<div class="container"> 
   <div class="container-inner inner-default clearfix"> 
     <% rank = 1 %> 
     <% prev_count = 0 %> 
     <% items_counts.each do |item, count| %> 
       <div class="item-box"> 
         <div class="image"> 
           <div class="img-wrap"> 
             <% if item.large_image.present? %> 
               <%= image_tag(item.large_image , alt: item.title) %> 
             <% else %> 
               <%= image_tag("no-image.png" , alt: item.title) %> 
             <% end %> 
           </div> 
         </div> 
         <div class="detail"> 
           <p class="title"> 
             <%= item.title %> 
           </p> 
         </div> 
         <%= render 'items/action' , item: item if logged_in? %> 
         <% rank -= 1 if count == prev_count %> 
         <div class="rank-icon"> 
           <%= image_tag("rank#{ rank < 3 ? rank : 3 }.png", :size => '60x60') %> 
           <div class="rank-number"><%= rank %></div> 
         </div> 
         <a href="<%= url_for(item) %>" class="rank-count btn btn-success" role="button"> 
           <%= type == :have ? "Have" : "Want" %><span class="badge"><%= count %></span> 
         </a> 
       </div> 
       <% rank += 1 %> 
       <% prev_count = count %> 
     <% end %> 
   </div> 
</div> 
